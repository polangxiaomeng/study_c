# 运算符优先级和结合性一览表

<table>
<tbody>
<tr>
<th>
<p>
优先级</p>
</th>
<th>
<p>
运算符</p>
</th>
<th>
<p>
名称或含义</p>
</th>
<th>
<p>
使用形式</p>
</th>
<th>
<p>
结合方向</p>
</th>
<th>
<p>
说明</p>
</th>
</tr>
<tr>
<td rowspan="4">
<p>
1</p>
</td>
<td>
<p>
[]</p>
</td>
<td>
<p>
数组下标</p>
</td>
<td>
<p>
数组名[常量表达式]</p>
</td>
<td rowspan="4">
<p>
左到右</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
()</p>
</td>
<td>
<p>
圆括号</p>
</td>
<td>
<p>
(表达式)<br>
函数名(形参表)</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
.</p>
</td>
<td>
<p>
成员选择（对象）</p>
</td>
<td>
<p>
对象.成员名</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
-&gt;</p>
</td>
<td>
<p>
成员选择（指针）</p>
</td>
<td>
<p>
对象指针-&gt;成员名</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td rowspan="9">
<p>
2</p>
</td>
<td>
<p>
-</p>
</td>
<td>
<p>
负号运算符</p>
</td>
<td>
<p>
-表达式</p>
</td>
<td rowspan="9">
<p>
右到左</p>
</td>
<td>
<p>
单目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
(类型)</p>
</td>
<td>
<p>
强制类型转换</p>
</td>
<td>
<p>
(数据类型)表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
++</p>
</td>
<td>
<p>
自增运算符</p>
</td>
<td>
<p>
++变量名<br>
变量名++</p>
</td>
<td>
<p>
单目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
--</p>
</td>
<td>
<p>
自减运算符</p>
</td>
<td>
<p>
--变量名<br>
变量名--</p>
</td>
<td>
<p>
单目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
*</p>
</td>
<td>
<p>
取值运算符</p>
</td>
<td>
<p>
*指针变量</p>
</td>
<td>
<p>
单目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
&amp;</p>
</td>
<td>
<p>
取地址运算符</p>
</td>
<td>
<p>
&amp;变量名</p>
</td>
<td>
<p>
单目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
!</p>
</td>
<td>
<p>
逻辑非运算符</p>
</td>
<td>
<p>
!表达式</p>
</td>
<td>
<p>
单目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
~</p>
</td>
<td>
<p>
按位取反运算符</p>
</td>
<td>
<p>
~表达式</p>
</td>
<td>
<p>
单目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
sizeof</p>
</td>
<td>
<p>
长度运算符</p>
</td>
<td>
<p>
sizeof(表达式)</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td rowspan="3">
<p>
3</p>
</td>
<td>
<p>
/</p>
</td>
<td>
<p>
除</p>
</td>
<td>
<p>
表达式 / 表达式</p>
</td>
<td rowspan="3">
<p>
左到右</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
*</p>
</td>
<td>
<p>
乘</p>
</td>
<td>
<p>
表达式*表达式</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
%</p>
</td>
<td>
<p>
余数（取模）</p>
</td>
<td>
<p>
整型表达式%整型表达式</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td rowspan="2">
<p>
4</p>
</td>
<td>
<p>
+</p>
</td>
<td>
<p>
加</p>
</td>
<td>
<p>
表达式+表达式</p>
</td>
<td rowspan="2">
<p>
左到右</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
-</p>
</td>
<td>
<p>
减</p>
</td>
<td>
<p>
表达式-表达式</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td rowspan="2">
<p>
5</p>
</td>
<td>
<p>
&lt;&lt;</p>
</td>
<td>
<p>
左移</p>
</td>
<td>
<p>
变量&lt;&lt;表达式</p>
</td>
<td rowspan="2">
<p>
左到右</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
&gt;&gt;</p>
</td>
<td>
<p>
右移</p>
</td>
<td>
<p>
变量&gt;&gt;表达式</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td rowspan="4">
<p>
6</p>
</td>
<td>
<p>
&gt;</p>
</td>
<td>
<p>
大于</p>
</td>
<td>
<p>
表达式&gt;表达式</p>
</td>
<td rowspan="4">
<p>
左到右</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
&gt;=</p>
</td>
<td>
<p>
大于等于</p>
</td>
<td>
<p>
表达式&gt;=表达式</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
&lt;</p>
</td>
<td>
<p>
小于</p>
</td>
<td>
<p>
表达式&lt;表达式</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
&lt;=</p>
</td>
<td>
<p>
小于等于</p>
</td>
<td>
<p>
表达式&lt;=表达式</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td rowspan="2">
<p>
7</p>
</td>
<td>
<p>
==</p>
</td>
<td>
<p>
等于</p>
</td>
<td>
<p>
表达式==表达式</p>
</td>
<td rowspan="2">
<p>
左到右</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
!=</p>
</td>
<td>
<p>
不等于</p>
</td>
<td>
<p>
表达式!= 表达式</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
8</p>
</td>
<td>
<p>
&amp;</p>
</td>
<td>
<p>
按位与</p>
</td>
<td>
<p>
表达式&amp;表达式</p>
</td>
<td>
<p>
左到右</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
9</p>
</td>
<td>
<p>
^</p>
</td>
<td>
<p>
按位异或</p>
</td>
<td>
<p>
表达式^表达式</p>
</td>
<td>
<p>
左到右</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
10</p>
</td>
<td>
<p>
|</p>
</td>
<td>
<p>
按位或</p>
</td>
<td>
<p>
表达式|表达式</p>
</td>
<td>
<p>
左到右</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
11</p>
</td>
<td>
<p>
&amp;&amp;</p>
</td>
<td>
<p>
逻辑与</p>
</td>
<td>
<p>
表达式&amp;&amp;表达式</p>
</td>
<td>
<p>
左到右</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
12</p>
</td>
<td>
<p>
||</p>
</td>
<td>
<p>
逻辑或</p>
</td>
<td>
<p>
表达式||表达式</p>
</td>
<td>
<p>
左到右</p>
</td>
<td>
<p>
双目运算符</p>
</td>
</tr>
<tr>
<td>
<p>
13</p>
</td>
<td>
<p>
?:</p>
</td>
<td>
<p>
条件运算符</p>
</td>
<td>
<p>
表达式1? 表达式2: 表达式3</p>
</td>
<td>
<p>
右到左</p>
</td>
<td>
<p>
三目运算符</p>
</td>
</tr>
<tr>
<td rowspan="11">
<p>
14</p>
</td>
<td>
<p>
=</p>
</td>
<td>
<p>
赋值运算符</p>
</td>
<td>
<p>
变量=表达式</p>
</td>
<td rowspan="11">
<p>
右到左</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
/=</p>
</td>
<td>
<p>
除后赋值</p>
</td>
<td>
<p>
变量/=表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
*=</p>
</td>
<td>
<p>
乘后赋值</p>
</td>
<td>
<p>
变量*=表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
%=</p>
</td>
<td>
<p>
取模后赋值</p>
</td>
<td>
<p>
变量%=表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
+=</p>
</td>
<td>
<p>
加后赋值</p>
</td>
<td>
<p>
变量+=表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
-=</p>
</td>
<td>
<p>
减后赋值</p>
</td>
<td>
<p>
变量-=表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
&lt;&lt;=</p>
</td>
<td>
<p>
左移后赋值</p>
</td>
<td>
<p>
变量&lt;&lt;=表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
&gt;&gt;=</p>
</td>
<td>
<p>
右移后赋值</p>
</td>
<td>
<p>
变量&gt;&gt;=表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
&amp;=</p>
</td>
<td>
<p>
按位与后赋值</p>
</td>
<td>
<p>
变量&amp;=表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
^=</p>
</td>
<td>
<p>
按位异或后赋值</p>
</td>
<td>
<p>
变量^=表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
|=</p>
</td>
<td>
<p>
按位或后赋值</p>
</td>
<td>
<p>
变量|=表达式</p>
</td>
<td>
&nbsp;</td>
</tr>
<tr>
<td>
<p>
15</p>
</td>
<td>
<p>
,</p>
</td>
<td>
<p>
逗号运算符</p>
</td>
<td>
<p>
表达式,表达式,…</p>
</td>
<td>
<p>
左到右</p>
</td>
<td>
<p>
&nbsp;</p>
</td>
</tr>
</tbody>
</table>

上表中可以总结出如下规律：

1. 结合方向只有三个是从右往左，其余都是从左往右。
2. 所有双目运算符中只有赋值运算符的结合方向是从右往左。
3. 另外两个从右往左结合的运算符也很好记，因为它们很特殊：一个是单目运算符，一个是三目运算符。
4. C语言中有且只有一个三目运算符。
5. 逗号运算符的优先级最低，要记住。
6. 此外要记住，对于优先级：算术运算符 > 关系运算符 > 逻辑运算符 > 赋值运算符。逻辑运算符中“逻辑非 !”除外。

# 一些容易出错的优先级问题

上表中，优先级同为1 的几种运算符如果同时出现，那怎么确定表达式的优先级呢？这是很多初学者迷糊的地方。下表就整理了这些容易出错的情况：

|                     优先级问题                      |         表达式         |                       经常误认为的结果                       |                           实际结果                           |
| :-------------------------------------------------: | :--------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| `.` 的优先级高于 `*`（`-> `操作符用于消除这个问题） |         `*p.f`         |            `p` 所指对象的字段` f`，等价于`(*p).f`            | 对 `p `取` f `偏移，作为指针，然后进行解除引用操作，等价于： `*(p.f)` |
|                    `[] `高于 `*`                    |      `int *ap[]`       |    `ap` 是个指向` int` 数组的指针，等价于：` int (*ap)[]`    |  `ap` 是个元素为 `int` 指针的数组，等价于： `int *(ap [])`   |
|                  函数` () `高于 *                   |      `int *fp()`       | `fp` 是个函数指针，所指函数返回`int`，等价于：` int (*fp)()` |     `fp `是个函数，返回 `int*`，等价于：` int* (fp() )`      |
|               `== `和 `!=` 高于位操作               |  `(val & mask != 0)`   |                      `(val &mask) != 0`                      |                     `val & (mask != 0)`                      |
|               `== `和 `!= `高于赋值符               | `c = getchar() != EOF` |                   `(c = getchar()) != EOF`                   |                   `c = (getchar() != EOF)`                   |
|              算术运算符高于位移 运算符              |    `msb << 4 + lsb`    |                      `(msb << 4) + lsb`                      |                      `msb << (4 + lsb)`                      |
|         逗号运算符在所有运 算符中优先级最低         |       `i = 1, 2`       |                         `i = (1,2)`                          |                         `(i = 1), 2`                         |